// Response 0.3.1 | responsejs.com | MIT License
window.Response=function(k,f,h,v,ga){function P(a){var b="scroll."+k,c="allLoaded."+k;G(a,function(a){a instanceof Object||j("create @args must be object(s)");var d=Q(ha).configure(a),i,g=d.verge,a=d.breakpoints;a.length&&(i=a[0]||a[1]||!1,q.ready(function(a){function e(){d.reset();l(d.$,function(a,b){d[b].decideValue().updateDOM()}).trigger(c)}function f(){l(d.$,function(a,b){H(d[b].$,g)&&d[b].updateDOM()})}a=!!d.lazy;l(d.target().$,function(b,c){d[c]=Q(d).prepareData(b);(!a||H(d[c].$,g))&&d[c].updateDOM()});
if(d.dynamic&&i<r)m.on("resize."+k,e);a&&(m.on(b,f),d.$.one(c,function(){m.off(b,f)}))}))});return n}function I(){I.on||(f.fn.dataset=s,f.fn.deletes=R,l(["inX","inY","inViewport"],function(a){f.fn[a]=function(b,c){return f(t(this,function(e){return!c===n[a](e,b)}))}}),I.on=1);return n}var n,o=v.documentElement,q=f(v),m=f(h),S="i"+k,j=function(a){throw"Error using Response."+(a||"");},ia=!!h.JSON&&!!JSON.parse,ja=function(a){a.setAttribute("data-a-b",k);return!!(a.dataset&&a.dataset.aB===k)}(v.createElement(k)),
J=f!==h.jQuery?f:function(a){return a instanceof f?a:f(a)},Q=Object.create||function(a){function b(){}b.prototype=a;return new b},K=Array.isArray||f.isArray,p=function(a,b,c){for(var e=[],d=-1,i=a.length;d++<i;)d in a&&(e[d]=b.call(c,a[d]));return e},l=function(a,b){for(var c=-1,e=a.length;c++<e;)c in a&&b(a[c],c,a);return a},w=function(a,b,c){for(var e=[],d=a.length,b=b||"",c=c||"";d&&d--;)d in a&&(e[d]=b+a[d]+c);return e},t=function(a,b,c){var e=-1,d=[],i=a.length;if(b)for(c=!!c;e++<i;)c===!b(a[e],
e)&&d.push(a[e]);else for(;e++<i;)a[e]&&d.push(a[e]);return d},ka=/[^a-z0-9_\-\.]/gi,la=/([a-z])([A-Z])/g,ma=/-(.)/g,L=/^data-(.+)$/,na=/\s+/,oa=/([^a-z0-9_\-])/gi,pa=function(a){return a.replace(oa,"\\$1")},T=function(a){return a.replace(L,"$1").replace(ma,function(a,c){return c.toUpperCase()})},x=function(a){return"data-"+(a?a.replace(L,"$1").replace(la,"$1-$2").toLowerCase():a)},y=function(a){return"string"===typeof a?a.split(na):a},qa=function(a){return"string"===typeof a?a.toLowerCase().replace(ka,
""):""},U=function(a){var b;return!a||"string"!==typeof a?a:"true"===a?!0:"false"===a?!1:"undefined"===a?ga:"null"===a?null:isFinite(b=parseFloat(a))?b:a},M=function(a,b,c){f.each(b,function(b,d){a[b]=d||c?d:a[b]});return a},G=function(a,b){return K(a)?p(a,b):b(a)},s=function(a,b){var c=arguments.length,e=(this&&this.nodeType&&1===this.nodeType?this:this[0]&&this[0].nodeType&&1===this[0].nodeType?this[0]:!1)||j("dataset @elem"),d,i=!1,g;if(c){K(a)&&(i=!0,a=a[0]);if("string"===typeof a){a=x(a);if(1===
c)return d=e.getAttribute(a),i?U(d):d;if(this===e||2>(g=this.length||1))e.setAttribute(a,b);else for(;g--;)g in this&&s.apply(this[g],arguments)}else if(a instanceof Object)for(g in a)a.hasOwnProperty(g)&&s.call(this,g,a[g]);return this}if(ja)return e.dataset;d={};f.each(e.attributes,function(a,b){if(L.test(b.nodeName)){var c=T(b.nodeName);d[c]=b.nodeValue}});return d},R=function(a){if("string"===typeof a){var b=J(this);l(y(a),function(a){a&&b.removeAttr(x(a))})}return this},z=function(a,b,c){return s.apply(a,
[].slice.call(arguments).slice(1))},A=h.screen.width,B=h.screen.height,r=Math.max(A,B),C=o.clientWidth?function(){return o.clientWidth}:function(){return m.width()},D=o.clientHeight?function(){return o.clientHeight}:function(){return m.height()},E=function(a,b,c){b=b||0;return!c?a>=b:a>=b&&a<=c},V=function(){var a=q.width()-C();return 0<a?a:0},W=function(){var a=q.height()-D();return 0<a?a:0},X=function(){return h.pageXOffset||o.scrollLeft},Y=function(){return h.pageYOffset||o.scrollTop},Z=function(a,
b,c,e,d){d="number"===typeof d?d:0;return c+e>=a-d&&a+b>=c-d},$=function(a,b){a=J(a);return a.length&&Z(a.offset().left,a.width(),X(),C(),b)},aa=function(a,b){a=J(a);return a.length&&Z(a.offset().top,a.height(),Y(),D(),b)},H=function(a,b){return(!V()||$(a,b))&&(!W()||aa(a,b))},ba=function(a,b){return E(C(),a,b)},ca=function(a,b){return E(D(),a,b)},N={band:function(a,b){return E(A,a,b)},wave:function(a,b){return E(B,a,b)}},F=h.matchMedia||h.msMatchMedia,u=function(a){var b=h.devicePixelRatio;if(!arguments.length)return b||
(u(2)?2:u(1.5)?1.5:u(1)?1:0);if(!isFinite(a))return!1;if(b)return b>=a;a="only all and (min--moz-device-pixel-ratio:"+a+")";return!F?!1:F(a).matches||F(a.replace("-moz-","")).matches},da=function(a){var b={IMG:1,INPUT:1,SOURCE:3,EMBED:3,TRACK:3,IFRAME:5,AUDIO:5,VIDEO:5,SCRIPT:5}[a.tagName.toUpperCase()]||-1;return 4>b?b:"string"===typeof a.getAttribute("src")?5:-5},ea=function(a,b,c){a&&b||j("store");l(a,function(a){if(c||!z(a,b))z(a,b,0<da(a)?a.getAttribute("src"):f(a).html()||"")});return n},fa=
function(a){return w(p(p(a,pa),x),"[","]").join()},O=function(a,b){return a&&b&&b.length?p(y(b),s,a):[]},ha=function(a){var b=[],c={width:[0,320,481,641,961,1025,1281],height:[0,481],ratio:[1,1.5,2]},e={width:ba,height:ca};e["device-width"]=N.band;e["device-height"]=N.wave;e["device-pixel-ratio"]=u;return{e:0,$:0,mode:0,breakpoints:0,prefix:0,prop:"width",keys:[],dynamic:0,values:[],method:0,verge:a,newValue:0,currValue:1,aka:a,lazy:a,valid8:function(a,b){this.breakpoints?(a=K(a)?t(a,isFinite).sort(function(a,
b){return a-b}):[],a.length||j("create @breakpoints")):(b=this.prop,a=c[b]||c[b.split("-").pop()]||j("create @prop"));this.breakpoints=t(a,function(a){return a<=r})},reset:function(){b=[!0];return this},memoize:function(a){"boolean"!==typeof b[a]&&(b[a]=this.method(a));return b[a]},configure:function(b){var c,f;M(this,b,!0);this.verge=isFinite(this.verge)?this.verge:Math.min(r,500);this.method=e[this.prop]||j("create @prop");this.dynamic="d"!==this.prop[0];c=this.prefix?t(p(y(this.prefix),qa)):["min-"+
this.prop+"-"];b=1<c.length?c.slice(1):0;this.prefix=c[0];this.valid8();this.keys=w(this.breakpoints,this.prefix);this.aka=a;if(b){f=[];for(c=b.length;c--;)f.push(w(this.breakpoints,b[c]));this.aka=f}return this},target:function(){this.$=f(fa([].concat.apply(this.keys,this.aka)));ea(this.$,S);this.keys.push(S);return this},decideValue:function(){for(var a=0,b=this.breakpoints,c=b.length,e=c;!a&&e--;)this.memoize(b[e])&&(a=this.values[e]);this.newValue=a||this.values[c];return this},prepareData:function(a){this.e=
a;this.$=f(a);this.mode=da(this.e);this.values=O(this.$,this.keys);if(this.aka)for(a=this.aka.length;a--;)this.values=M(this.values,O(this.$,this.aka[a]));return this.decideValue()},updateDOM:function(){if(this.currValue===this.newValue)return this;this.currValue=this.newValue;return 0<this.mode?this.e.setAttribute("src",this.newValue):this.$.html(this.newValue)}}}();n={viewportW:C,viewportH:D,deviceW:A,deviceH:B,deviceMax:r,deviceMin:A+B-r,inX:$,inY:aa,inViewport:H,scrollX:X,scrollY:Y,overflowX:V,
overflowY:W,band:ba,wave:ca,device:N,dpr:u,action:function(a){G(a,function(a){"function"===typeof a||j("action");q.ready(a);m.resize(a)});return this},dataset:z,deletes:function(a,b){return R.call(a,b)},route:G,merge:M,store:ea,target:function(a){return f(fa(y(a)))},access:O,create:P,media:F,render:U,decide:function(){j("decide: method depreciated")},chain:I,camelize:T,datatize:x,map:p,each:l,sift:t,affix:w};q.ready(function(a){if(a=z(v.body,"responsejs"))a=ia?JSON.parse(a):f.parseJSON?f.parseJSON(a):
{},a.create&&P(a.create)});return n}("Response",this.jQuery||this.Zepto,this,this.document);